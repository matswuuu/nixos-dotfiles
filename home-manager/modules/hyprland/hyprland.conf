$mainMod = SUPER

# Monitor configuration
#monitor = DP-2, 1920x1080@165, 0x0, 1
#monitor = DP-1, 1920x1080@144, 0x1080, 1

monitor = eDP-1, 1920x1080@60, 0x0, 1.2

#workspace = 2,monitor:DP-2
#workspace = 3,monitor:DP-2

env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland
env = GDK_BACKEND,wayland,x11,*
env = XCURSOR_SIZE,24
env = QT_QPA_PLATFORM,wayland
env = XDG_SCREENSHOTS_DIR,~/screenshots
env = HYPRSHOT_DIR,~/screenshots

exec-once = waybar
exec-once = [workspace 1 silent] google-chrome-stable
exec-once = [workspace 3 silent] telegram-desktop
exec-once = [workspace 4 silent] kitty
exec-once = [workspace 4 silent] kitty
exec-once = [workspace 3 silent] discordptb
exec-once = [workspace 7 silent] code
exec-once = [workspace 9 silent] AmneziaVPN
exec-once = mpvpaper -o "no-audio --loop-playlist" ALL /home/matswuuu/wallpaper.mp4

# Clipboard
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store

xwayland {
    use_nearest_neighbor = false
    force_zero_scaling = true
}

debug {
    disable_logs = false
    enable_stdout_logs = true
}

# General appearance and gaps
general { 
    gaps_in = 5
    gaps_out = 10
    border_size = 1
    col.active_border = rgba(255,255,255,1)
    col.inactive_border = rgba(89,89,89,170)

    layout = dwindle
}

decoration { 
    rounding = 10
    active_opacity = 1.0
    inactive_opacity = 1.0

    shadow {
        range = 4
        render_power = 3
    }

    blur {
        enabled = true
        size = 3
        passes = 1
        vibrancy = 0.1696
    }
}

animations {
    enabled = true
}

bezier = overshoot, 0.05, 0.9, 0.1, 1.05
animation = windows, 1, 7, overshoot
animation = windowsOut, 1, 7, default, popin 80%
animation = border, 1, 10, default
animation = borderangle, 1, 8, default
animation = fade, 1, 7, default
animation = workspaces, 1, 6, default

dwindle {
    pseudotile = true
    preserve_split = true
}

master {
    new_status = master
}

misc {
    force_default_wallpaper = false
    disable_hyprland_logo = true
}

gestures {
    workspace_swipe = true
    workspace_swipe_fingers = 3
    workspace_swipe_invert = false
    workspace_swipe_forever = true
}

# Launch terminal
bind = $mainMod, Return, exec, kitty
# Kill active window
bind = $mainMod, Q, killactive
# Exit Hyprland
bind = $mainMod CTRL SHIFT, M, exit
# Toggle floating
bind = $mainMod, F, togglefloating
# Show application launcher
bind = $mainMod, D, exec, wofi --show drun
# Pseudo (dwindle)
bind = $mainMod, P, pseudo
# Toggle split (dwindle)
bind = $mainMod, J, togglesplit
bind = $mainMod SHIFT, S, exec, hyprshot --silent --mode region -o ~/screenshots

# Clipboard
#bind = CTRL, C, exec, wl-copy
#bind = CTRL, V, exec, wl-paste
# Cliphist
bind = $mainMod, V, exec, cliphist list | wofi --dmenu | cliphist decode | wl-copy


# Toggle window floating
bind = $mainMod SHIFT, F, togglefloating

# Focus movement
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Swap windows
bind = $mainMod Shift, left, swapwindow, l
bind = $mainMod Shift, right, swapwindow, r
bind = $mainMod Shift, up, swapwindow, u
bind = $mainMod Shift, down, swapwindow, d

# Resize active window
bind = $mainMod Ctrl, left, resizeactive, -60, 0
bind = $mainMod Ctrl, right, resizeactive, 60, 0
bind = $mainMod Ctrl, up, resizeactive, 0, -60
bind = $mainMod Ctrl, down, resizeactive, 0, 60

# Switch workspaces
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to workspace
bind = $mainMod Shift, 1, movetoworkspacesilent, 1
bind = $mainMod Shift, 2, movetoworkspacesilent, 2
bind = $mainMod Shift, 3, movetoworkspacesilent, 3
bind = $mainMod Shift, 4, movetoworkspacesilent, 4
bind = $mainMod Shift, 5, movetoworkspacesilent, 5
bind = $mainMod Shift, 6, movetoworkspacesilent, 6
bind = $mainMod Shift, 7, movetoworkspacesilent, 7
bind = $mainMod Shift, 8, movetoworkspacesilent, 8
bind = $mainMod Shift, 9, movetoworkspacesilent, 9
bind = $mainMod Shift, 0, movetoworkspacesilent, 10

# Workspace scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Brightness controls
bind = $mainMod, F3, exec, brightnessctl -d *::kbd_backlight set +33%
bind = $mainMod, F2, exec, brightnessctl -d *::kbd_backlight set 33%-

# Volume and media keys
#bind = XF86AudioRaiseVolume, exec, p`amixer -i 5
#bind = XF86AudioLowerVolume, exec, pamixer -d 5
#bind = XF86AudioMute, exec, pamixer -t
#bind = XF86AudioMicMute, exec, pamixer --default-source -m

# Brightness
bind = ,XF86MonBrightnessDown, exec, brightnessctl set 5%-
bind = ,XF86MonBrightnessUp, exec, brightnessctl set +5%

# Waybar control
bind = $mainMod, B, exec, pkill -SIGUSR1 waybar
bind = $mainMod, W, exec, pkill -SIGUSR2 waybar

# Mouse bindings for moving/resizing windows
# Note: hyprland.conf syntax for mouse bindings might differ; ensure your version supports these
# Example:
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
bind = $mainMod, left, moveactive, -10 0
bind = $mainMod, right, moveactive, 10 0
bind = $mainMod, up, moveactive, 0 -10
bind = $mainMod, down, moveactive, 0 10

input {
    kb_layout = us,ru
    kb_options = grp:win_space_toggle

    follow_mouse = 1

    touchpad {
        natural_scroll = true
    }

    sensitivity = 0
}